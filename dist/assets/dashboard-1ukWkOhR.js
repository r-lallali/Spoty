import{c as b,r as a,m as d,j as e,a as l,u as W,b as z,d as T,e as he,f as fe,n as V,g as O,h as me,i as je,k as P,l as m,o as E,p as F,q as ve,s as Ce,C as ke,t as H,B as _,v as ye,w as Pe,S as f,I as we,O as be}from"./index-DdlObs6W.js";import{M as $}from"./MusicNoteIcon-Dv_SFEbC.js";import{F as R,H as Re,V as I}from"./v-stack-DhS3kTGh.js";import{I as j,c as A}from"./create-icon-CWbwgp3R.js";import{T as v}from"./index-_MCSnTcs.js";import{f as Ae}from"./utils-CWkz1AUb.js";import{c as D,u as S,a as L,s as G,P as Z,B as De,S as w}from"./separator-CnwphMyQ.js";import{C as Se,a as Le}from"./card-D6MlVoqg.js";const[U,Ne]=b({name:"RenderStrategyContext",hookName:"useRenderStrategyContext",providerName:"<RenderStrategyPropsProvider />"}),q=t=>D()(t,["lazyMount","unmountOnExit"]),[X,J]=b({name:"AvatarContext",hookName:"useAvatarContext",providerName:"<AvatarProvider />"}),K=a.forwardRef((t,r)=>{const o=J(),n=d(o.getFallbackProps(),t);return e.jsx(l.span,{...n,ref:r})});K.displayName="AvatarFallback";const Q=a.forwardRef((t,r)=>{const o=J(),n=d(o.getImageProps(),t);return e.jsx(l.img,{...n,ref:r})});Q.displayName="AvatarImage";const Ie=t=>{const r=a.useId(),{getRootNode:o}=W(),{dir:n}=z(),s={id:r,dir:n,getRootNode:o,...t},i=T(he,s);return fe(i,V)},Me=D(),Y=a.forwardRef((t,r)=>{const[o,n]=Me(t,["id","ids","onStatusChange"]),s=Ie(o),i=d(s.getRootProps(),n);return e.jsx(X,{value:s,children:e.jsx(l.div,{...i,ref:r})})});Y.displayName="AvatarRoot";const Be=D(),ee=a.forwardRef((t,r)=>{const[{value:o},n]=Be(t,["value"]),s=d(o.getRootProps(),n);return e.jsx(X,{value:o,children:e.jsx(l.div,{...s,ref:r})})});ee.displayName="AvatarRootProvider";const[te,p]=b({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),re=a.forwardRef((t,r)=>{const o=p(),n=Ne(),s=S({...n,present:o.open}),i=d(o.getBackdropProps(),s.getPresenceProps(),t);return s.unmounted?null:e.jsx(l.div,{...i,ref:O(s.ref,r)})});re.displayName="DialogBackdrop";const oe=a.forwardRef((t,r)=>{const o=p(),n=d(o.getCloseTriggerProps(),t);return e.jsx(l.button,{...n,ref:r})});oe.displayName="DialogCloseTrigger";const ne=a.forwardRef((t,r)=>{const o=p(),n=L(),s=d(o.getContentProps(),n.getPresenceProps(),t);return n.unmounted?null:e.jsx(l.div,{...s,ref:O(n.ref,r)})});ne.displayName="DialogContent";const se=a.forwardRef((t,r)=>{const o=p(),n=d(o.getDescriptionProps(),t);return e.jsx(l.div,{...n,ref:r})});se.displayName="DialogDescription";const ae=a.forwardRef((t,r)=>{const o=p(),n=d(o.getPositionerProps(),t);return L().unmounted?null:e.jsx(l.div,{...n,ref:r})});ae.displayName="DialogPositioner";const We=t=>{const r=a.useId(),{getRootNode:o}=W(),{dir:n}=z(),s={id:r,getRootNode:o,dir:n,...t},i=T(me,s);return je(i,V)},ze=t=>{const[r,{children:o,...n}]=G(t),[s]=q(r),i=We(n),g=S(d({present:i.open},r));return e.jsx(te,{value:i,children:e.jsx(U,{value:s,children:e.jsx(Z,{value:g,children:o})})})},Te=t=>{const[r,{value:o,children:n}]=G(t),[s]=q(r),i=S(d({present:o.open},r));return e.jsx(te,{value:o,children:e.jsx(U,{value:s,children:e.jsx(Z,{value:i,children:n})})})},ie=a.forwardRef((t,r)=>{const o=p(),n=d(o.getTitleProps(),t);return e.jsx(l.h2,{...n,ref:r})});ie.displayName="DialogTitle";const de=a.forwardRef((t,r)=>{const o=p(),n=L(),s=d({...o.getTriggerProps(),"aria-controls":n.unmounted?void 0:o.getTriggerProps()["aria-controls"]},t);return e.jsx(l.button,{...s,ref:r})});de.displayName="DialogTrigger";const Ve=m("div",{base:{display:"inline-flex",gap:"var(--group-gap, 0.5rem)",isolation:"isolate",position:"relative","& [data-group-item]":{_focusVisible:{zIndex:1}}},variants:{orientation:{horizontal:{flexDirection:"row"},vertical:{flexDirection:"column"}},attached:{true:{gap:"0!"}},grow:{true:{display:"flex","& > *":{flex:1}}},stacking:{"first-on-top":{"& > [data-group-item]":{zIndex:"calc(var(--group-count) - var(--group-index))"}},"last-on-top":{"& > [data-group-item]":{zIndex:"var(--group-index)"}}}},compoundVariants:[{orientation:"horizontal",attached:!0,css:{"& > *[data-first]":{borderEndRadius:"0!",marginEnd:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginEnd:"-1px"},"& > *[data-last]":{borderStartRadius:"0!"}}},{orientation:"vertical",attached:!0,css:{"& > *[data-first]":{borderBottomRadius:"0!",marginBottom:"-1px"},"& > *[data-between]":{borderRadius:"0!",marginBottom:"-1px"},"& > *[data-last]":{borderTopRadius:"0!"}}}],defaultVariants:{orientation:"horizontal"}}),le=a.memo(a.forwardRef(function(r,o){const{align:n="center",justify:s="flex-start",children:i,wrap:g,skip:C,...ge}=r,xe=a.useMemo(()=>{let x=a.Children.toArray(i).filter(a.isValidElement);if(x.length===1)return x;const k=x.filter(u=>!C?.(u)),y=k.length;return k.length===1?x:x.map(u=>{const N=u.props;if(C?.(u))return u;const h=k.indexOf(u);return a.cloneElement(u,{...N,"data-group-item":"","data-first":P(h===0),"data-last":P(h===y-1),"data-between":P(h>0&&h<y-1),style:{"--group-count":y,"--group-index":h,...N?.style??{}}})})},[i,C]);return e.jsx(Ve,{ref:o,alignItems:n,justifyContent:s,flexWrap:g,...ge,className:E("chakra-group",r.className),children:xe})}));le.displayName="Group";const{withProvider:ce,withContext:Oe,useStyles:Ee,useClassNames:Fe,PropsProvider:He}=F({key:"avatar"});ce(ee,"root",{forwardAsChild:!0});const _e=ce(Y,"root",{forwardAsChild:!0}),$e=m(K,{},{forwardAsChild:!0});function Ge(t){return t.children||t.asChild?t.children:t.name?Ze(t.name):e.jsx(Xe,{})}function Ze(t){const r=t.trim().split(" "),o=r[0]!=null?r[0]:"",n=r.length>1?r[r.length-1]:"";return o&&n?`${o.charAt(0)}${n.charAt(0)}`:o.charAt(0)}const Ue=a.forwardRef(function(r,o){const n=Ee(),s=Fe(),{name:i,...g}=r;return e.jsx($e,{ref:o,...g,className:E(r.className,s.fallback),css:[n.fallback,r.css],children:Ge(r)})}),qe=Oe(Q,"image",{forwardAsChild:!0,defaultProps:{draggable:"false",referrerPolicy:"no-referrer"}}),Xe=a.forwardRef(function(r,o){return e.jsx(m.svg,{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1.2em",width:"1.2em",ref:o,...r,children:e.jsx("path",{d:"M20 22H18V20C18 18.3431 16.6569 17 15 17H9C7.34315 17 6 18.3431 6 20V22H4V20C4 17.2386 6.23858 15 9 15H15C17.7614 15 20 17.2386 20 20V22ZM12 13C8.68629 13 6 10.3137 6 7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7C18 10.3137 15.3137 13 12 13ZM12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z"})})});a.forwardRef(function(r,o){const n=ve({key:"avatar"}),[s,i]=a.useMemo(()=>n.splitVariantProps(r),[r,n]);return e.jsx(He,{value:s,children:e.jsx(le,{gap:"0",spaceX:"-3",ref:o,...i})})});const{withRootProvider:pe,withContext:c}=F({key:"drawer"});pe(Te,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});const Je=pe(ze,{defaultProps:{unmountOnExit:!0,lazyMount:!0}});c(de,"trigger",{forwardAsChild:!0});const Ke=c(ae,"positioner",{forwardAsChild:!0}),Qe=c(ne,"content",{forwardAsChild:!0});c(se,"description",{forwardAsChild:!0});c(ie,"title",{forwardAsChild:!0});c(oe,"closeTrigger",{forwardAsChild:!0});a.forwardRef(function(r,o){const n=p();return e.jsx(m.button,{...r,ref:o,onClick:()=>n.setOpen(!1)})});const Ye=c(re,"backdrop",{forwardAsChild:!0}),et=c("div","body");c("div","footer");c("div","header");const{withContext:tt}=Ce({key:"link"}),ue=tt("a");ue.displayName="Link";function rt(){return e.jsxs(R,{as:"header",alignItems:"center",gap:3,style:{userSelect:"none"},children:[e.jsx(ke,{width:"40px",height:"40px",borderRadius:"8px",style:{background:"linear-gradient(135deg, #1DB954 0%, #1ED760 100%)"},children:e.jsx(j,{as:$,color:"white",boxSize:5})}),e.jsx(v,{fontSize:"xl",fontWeight:"bold",children:"SpotyFusion"})]})}const ot=A({displayName:"ExitIcon",defaultProps:{fill:"none",viewBox:"0 0 20 20"},path:e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M13.3333 14.1666L17.5 9.99992L13.3333 5.83325",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M17.5 10H7.5",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M7.5 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V4.16667C2.5 3.72464 2.67559 3.30072 2.98816 2.98816C3.30072 2.67559 3.72464 2.5 4.16667 2.5H7.5",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})});function nt(){const t=H(),r=async()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),await t({to:"/"})};return e.jsxs(_,{as:"li",width:"100%",variant:"ghost",gap:3,px:4,py:6,justifyContent:"flex-start",color:"red",onClick:r,children:[e.jsx(j,{as:ot,boxSize:5}),e.jsx(v,{children:"Déconnexion"})]})}const st=a.forwardRef((t,r)=>e.jsx(ue,{ref:r,...t})),at=ye(st),it=t=>e.jsx(at,{focusRing:"none",_hover:{textDecoration:"none"},_focus:{textDecoration:"none"},preload:"intent",...t});function dt({path:t,label:r,icon:o}){return e.jsx(_,{asChild:!0,width:"100%",variant:"ghost",justifyContent:"flex-start",gap:5,px:4,py:6,borderLeftWidth:"3px",children:e.jsxs(it,{to:t,activeProps:{bg:"bg.emphasized",color:"fg",fontWeight:"semibold",borderLeftColor:"green.500"},children:[e.jsx(j,{as:o,boxSize:5}),r]})})}const M=["red","blue","green","yellow","purple","orange"],lt=t=>{const r=t.charCodeAt(0)%M.length;return M[r]};function ct(){const{user:t}=Pe({from:"/dashboard"});return e.jsx(Se,{width:"100%",border:"none",children:e.jsxs(Le,{borderRadius:"8px",padding:"16px",display:"flex",flexDirection:"row",alignItems:"center",gap:2,bg:"bg.emphasized",children:[e.jsxs(_e,{shape:"full",size:"md",colorPalette:lt(t?.display_name||"User"),children:[e.jsx(Ue,{name:t?.display_name||"User"}),e.jsx(qe,{src:t?.images?.[0]?.url})]}),e.jsxs(R,{direction:"column",gap:1,children:[e.jsx(v,{fontWeight:"semibold",children:t?.display_name}),e.jsx(De,{bg:t?.product==="premium"?"green":"gray",color:"white",width:"fit-content",borderRadius:"full",children:Ae(t?.product||"other")})]})]})})}function pt(t){return e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[e.jsx("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),e.jsx("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),e.jsx("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}const ut=A({displayName:"PlaylistIcon",defaultProps:{fill:"none",viewBox:"0 0 20 20"},path:e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M13.3333 4.16675H2.5",stroke:"currentColor",strokeOpacity:"0.7",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.16667 10H2.5",stroke:"currentColor",strokeOpacity:"0.7",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M9.16667 15.8333H2.5",stroke:"currentColor",strokeOpacity:"0.7",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M17.5 13.3334V4.16675",stroke:"currentColor",strokeOpacity:"0.7",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M15 15.8333C16.3807 15.8333 17.5 14.714 17.5 13.3333C17.5 11.9525 16.3807 10.8333 15 10.8333C13.6193 10.8333 12.5 11.9525 12.5 13.3333C12.5 14.714 13.6193 15.8333 15 15.8333Z",stroke:"currentColor",strokeOpacity:"0.7",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}),gt=A({displayName:"StatsIcon",defaultProps:{fill:"none",viewBox:"0 0 20 20"},path:e.jsxs(e.Fragment,{children:[e.jsx("path",{d:"M2.5 2.5V15.8333C2.5 16.2754 2.67559 16.6993 2.98816 17.0118C3.30072 17.3244 3.72464 17.5 4.16667 17.5H17.5",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M15 14.1667V7.5",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M10.8333 14.1667V4.16675",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M6.66669 14.1667V11.6667",stroke:"currentColor",strokeWidth:"1.66667",strokeLinecap:"round",strokeLinejoin:"round"})]})}),xt=[{path:"/dashboard/stats",label:"Statistiques",icon:gt},{path:"/dashboard/blindtest",label:"Blind Test",icon:$},{path:"/dashboard/playlist-gen",label:"Générateur de Playlists",icon:ut}];function B({onClose:t}){const r=H(),o=n=>{t&&t(),r({to:n})};return e.jsxs(e.Fragment,{children:[e.jsx(rt,{}),e.jsx(w,{}),e.jsx(ct,{}),e.jsx(w,{}),e.jsxs(I,{as:"nav",flex:1,justifyContent:"space-between",children:[e.jsx(I,{as:"ul",listStyleType:"none",width:"100%",flex:1,children:xt.map(n=>e.jsx("div",{onClick:()=>o(n.path),style:{width:"100%"},children:e.jsx(dt,{path:n.path,label:n.label,icon:n.icon})},n.path))}),e.jsxs(f,{width:"100%",gap:4,children:[e.jsx(w,{}),e.jsx(nt,{})]})]})]})}function Pt(){const[t,r]=a.useState(!1);return e.jsxs(f,{height:"100vh",bg:"spotify.dark",gap:0,children:[e.jsxs(R,{display:{base:"flex",md:"none"},as:"header",alignItems:"center",gap:2,px:4,py:3,bg:"spotify.panel",borderBottomWidth:"1px",borderColor:"spotify.border",children:[e.jsx(we,{"aria-label":"Ouvrir le menu",variant:"ghost",onClick:()=>r(!0),size:"md",children:e.jsx(j,{as:pt,boxSize:6})}),e.jsx(v,{fontSize:"lg",fontWeight:"semibold",children:"Menu"})]}),e.jsxs(Je,{open:t,onOpenChange:o=>r(o.open),placement:"start",children:[e.jsx(Ye,{}),e.jsx(Ke,{children:e.jsx(Qe,{bg:"spotify.panel",maxWidth:"280px",children:e.jsx(et,{padding:6,display:"flex",flexDirection:"column",gap:4,children:e.jsx(B,{onClose:()=>r(!1)})})})})]}),e.jsxs(Re,{flex:1,alignItems:"start",padding:2,gap:2,overflow:"hidden",children:[e.jsx(f,{as:"aside",display:{base:"none",md:"flex"},width:"280px",gap:4,padding:6,borderRadius:"8px",height:"calc(100vh - 16px)",bg:"spotify.panel",flexShrink:0,children:e.jsx(B,{})}),e.jsx(f,{as:"main",bg:"spotify.panel",flex:1,borderRadius:"8px",height:{base:"calc(100vh - 72px)",md:"calc(100vh - 16px)"},overflow:"auto",children:e.jsx(be,{})})]})]})}export{Pt as component};
